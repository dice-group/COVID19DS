# !/bin/bash
# generating rdf file from all documents
python3 jsonToRDF.py document_parses/
# linking Authors
java -Xmx110g -jar limes-core-1.7.1.jar limesConfig.xml 
# linking Publications
java -Xmx110g -jar limes-core-1.7.1.jar limesConfigPublications.xml 
# linking BibEntries
java -Xmx110g -jar limes-core-1.7.1.jar limesConfigBibEntries.xml
stringVersion=version_
now="$(date +'%Y-%m-%d')"
folderName=$stringVersion$now
[ ! -d $folderName ] && mkdir $folderName
mv corona.ttl $folderName
mv authors_sameAs.nt $folderName
mv covidAuthors_covidAuthors1statistics.json $folderName
mv covidPublications_covidPublications1statistics.json $folderName
mv publication_sameAs.nt $folderName
mv bibEntries_hasPublication.nt $folderName
mv bibentries_bibentries1statistics.json $folderName
# upload files into hobbit ftp
source pfile # PASSWORD="..."
lftp -e "set ftp:ssl-protect-data true; mirror -R $folderName public/COVID19DS/archive/; bye" -u hobbit,$PASSWORD hobbitdata.informatik.uni-leipzig.de